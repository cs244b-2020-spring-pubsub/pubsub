syntax = "proto3";

option go_package = "proto;pubsub";

package pubsub;

// PubSub service defination
service PubSub {
  // Publish a message
  rpc publish(PublishRequest) returns (PublishResponse) {}

  // Subscribe a topic
  rpc subscribe(SubscribeRequest) returns (stream SubscribeResponse) {}
}

// The request message for publish
message PublishRequest { string topic = 1; }

// The response message for publish
message PublishResponse {
  enum PublishStatus {
    SUCCESS = 0;
    FAIL = 1;
  }
  PublishStatus status = 1;
}

// The request message for subscribe
message SubscribeRequest { string topic = 1; }

// The response message for subscribe
message SubscribeResponse { repeated string content = 2; }
